<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="/css/home.css">
</head>
<body>
<main class="wrapper vertical-center">
    <div class="search horizontal-center">
        <div class="search-bar horizontal-center">

            <!----- search icon ----->
            <%- include('partials/icon', { icon: {width: "26", height: "26", fill: "none", xmlns: "http://www.w3.org/2000/svg",
            paths: [{d: "M.5 11.375c0 5.926 4.824 10.75 10.75 10.75S22 17.301 22 11.375 17.176.625 11.25.625.5 5.449.5 11.375Zm2.5 0c0-4.544 3.697-8.25 8.25-8.25s8.25 3.706 8.25 8.25c0 4.544-3.697 8.25-8.25 8.25S3 15.919 3 11.375Z",
            fill: "#AFAFAF", stroke: "#AFAFAF"},
            {d: "M23.467 24.875c-.326 0-.653-.12-.91-.377l-3.434-3.431a1.294 1.294 0 0 1 0-1.819 1.296 1.296 0 0 1 1.82 0l3.434 3.431a1.294 1.294 0 0 1 0 1.819 1.274 1.274 0 0 1-.91.377Z",
            fill: "#AFAFAF", stroke: "#AFAFAF"}]} }) %>

            <label for="search-input" class="hidden">Search</label>
            <input id="search-input" type="text" placeholder="Search for your task...">
        </div>

        <!----- filters open button ----->
        <% let filterIconData = {width: "24", height: "24", fill: "none", xmlns: "http://www.w3.org/2000/svg",
            paths: [{d: "M22 6.5h-6m-10 0H2m20 11h-4m-10 0H2m8-7.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7v0Zm4 11a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7v0Z",
                stroke: "#070B11", strokeWidth: "3", strokeMiterlimit: "10", strokeLinecap: "round", strokeLinejoin: "round"}]}%>
        <%- include('partials/button', { button: {id: "open-filters", icon: filterIconData} }) %>
    </div>

    <div class="statistics vertical-center">
        <p>On the road to success: <%= statistic.done%> out of <%= statistic.all%> done!</p>
        <div class="progress-bar">
            <div class="progress" data-width="<%= statistic.progressWidth%>"></div>
        </div>
    </div>

    <!----- create task button ----->
    <% let createIconData = {width: "24", height: "24", fill: "none", xmlns: "http://www.w3.org/2000/svg",
    paths: [{d: "M8.5 12h8m-4 4V8m-3 14h6c5 0 7-2 7-7V9c0-5-2-7-7-7h-6c-5 0-7 2-7 7v6c0 5 2 7 7 7Z",
            stroke: "#070B11", strokeWidth: "3", strokeLinecap: "round", strokeLinejoin: "round"}]}%>

    <%- include('partials/button', { button: {id: "main-create-task", onClick: `openModal()`, text: "Create a new task", icon: createIconData} }) %>

    <!----- tasks ----->
    <section class="tasks horizontal-center">
        <article class="left vertical-center">
            <% leftColumn.forEach(task => { %>
                <%- include('partials/task', { task }) %>
            <% }); %>
        </article>
        <article class="right vertical-center">
            <% rightColumn.forEach(task => { %>
                <%- include('partials/task', { task }) %>
            <% }); %>
        </article>
    </section>
</main>

<!----- create task window ----->
<%- include('partials/modal_window.ejs') %>

<script type="module" src="/js/main.js"></script>
</body>
</html>